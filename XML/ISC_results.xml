<?xml version="1.0" encoding="iso-8859-1"?>
<root>
	<!-- the main utility window that has dressings, buttons and a main
	     panel for displaying all the skill roll results -->
	<windowclass name="ISC_results_window">

		<frame>utilitybox</frame>
		<placement><size width="480" height="400" /></placement>
		<sizelimits>
			<minimum width="480" height="400" />
			<dynamic />
		</sizelimits>
		<playercontrol />
		<nodelete />
		<script file="scripts/ISC_results.lua" />

		<sheetdata>
			<close_utilitybox />
			<windowtitlebar name="title">
				<resource>ISC_results_window_title</resource>
			</windowtitlebar>
			<anchor_title_utilitybox name="contentanchor" />


			<!-- all the buttons -->
			<button_text name="ISC_button_skillset">
				<anchored to="contentanchor" height="20" width="100">
					<right offset="-10" />
					<bottom parent="" offset="-30" />
				</anchored>
				<state textres="ISC_button_label_skillset" />
			</button_text>
			
			<button_text name="ISC_button_rollnow">
				<anchored to="contentanchor" height="20" width="100">
					<right offset="-130" />
					<bottom parent="" offset="-30" />
				</anchored>
				<state textres="ISC_button_label_rollnow" />
			</button_text>

			<button_checkbox name="ISC_bAutoRoll">
				<anchored to="contentanchor" height="20" width="20">
					<left offset="5" />
					<bottom parent="" offset="-30" />
				</anchored>
			</button_checkbox>
			<button_text name="ISC_label_autoroll">
				<state textres="ISC_button_label_autoroll" />
				<anchored to="contentanchor" height="20" width="100">
					<left offset="30" />
					<bottom parent="" offset="-30" />
				</anchored>
			</button_text>

			<!-- the main panel -->
			<genericcontrol name="ISC_results_panel">
				<anchored to="contentanchor">
					<top anchor="bottom" offset="20" />
					<left offset="10" />
					<right offset="-10" />
					<bottom parent="" offset="-80" />
				</anchored>
				<frame name="groupbox" offset="15,15,15,15" />
				<disabled />
			</genericcontrol>

			<windowlist name="ISC_results_list">
				<anchored to="ISC_results_panel">
					<left />
					<top offset="30"/>
					<right />
					<bottom  />
				</anchored>
				<columns filldown="true" />
				<datasource>ISC.ISC_aResults</datasource>
				<class>ISC_results_character</class>
			</windowlist>
			<scrollbar_list>
				<anchored to="ISC_results_list" />
				<target>ISC_results_list</target>
			</scrollbar_list>

			<genericcontrol name="ISC_results_separator">
				<anchored to="ISC_results_panel">
					<top offset="27" />
					<left />
					<right />
				</anchored>
				<frame name="headersimple" />
				<disabled />
			</genericcontrol>


		</sheetdata>
	</windowclass>

	<!-- a window containing the character name and a list of skill roll results -->
	<windowclass name="ISC_results_character">
		<margins control="0,0,0,2" />
		<placement><size width="300" height="100" /></placement>
		<sheetdata>

			<genericcontrol name="top_left_corner">
				<anchored height="0" width="0" offset="0,0">
					<top offset="0" />
					<left />
				</anchored>
			</genericcontrol>

			<!-- the character name -->
			<stringcontrol name="ISC_charname">
				<anchored to="top_left_corner" height="20" width="120">
					<left offset="0" />
					<top offset="0" />
				</anchored>
				<disabled />
				<readonly />
			</stringcontrol>

			<!-- the horizontal list of skill roll results -->
			<windowlist name="ISC_results_skillresult_list">
				<anchored to="ISC_charname">
					<left />
					<top />
					<right offset="5"/>
					<bottom />
				</anchored>
				<columns width="50" fillwidth="true" />
				<class>ISC_skillresult_die</class>
			</windowlist>

		</sheetdata>
	</windowclass>

	<!-- the skill roll result to show, instantiated multiple times on a single row -->
	<!-- From Manual Dice Entry, the list of roll results
		 D:\u01\dev\FG\CoreRPG\utility\utility_manualrolls.xml
			<windowlist name="list">
				<anchored>
					<top parent="columnanchor" anchor="bottom" relation="relative" />
					<left offset="20" />
					<right offset="-75" />
					<sizelimits><minimum height="45" /></sizelimits>
				</anchored>
				<class>manualroll_die</class>
				<skipempty />
				<columns width="50" fillwidth="true" />
				<script>
					function onSortCompare(w1, w2)
						return w1.sort.getValue() &gt; w2.sort.getValue();
					end
				</script>
			</windowlist>
	-->

	<windowclass name="ISC_skillresult_die">
		<margins control="0,0,7,5" />
		<sheetdata>
			<hnc name="sort" />
			<basicnumberc name="value">
				<anchored position="insidetopleft" offset="7,20" height="20" width="30" />
				<script>
					function onEnter()
						if window.windowlist.window.isLastDie(window.sort.getValue()) then
							window.windowlist.window.processOK();
							return true;
						end
					end
				</script>
			</basicnumberc>
			<stringcontrol name="label">
				<anchored to="value" position="above" offset="0,0" height="20" />
				<center />
				<font>sheetlabel</font>
				<static />
			</stringcontrol>
		</sheetdata>
	</windowclass>


</root>